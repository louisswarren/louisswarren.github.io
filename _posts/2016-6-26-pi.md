---
layout: page
title: Checklist for configuring my Raspberry Pi
---

These instructions are very bare, and intended only for my own use.


### Preparation

1. Write the disk image to the sd card with `dd`, using `BS=4M`.

2. Resize the second partition to ~1.5GiB, create an ext4 partition on the
remaining space for media storage.

3. Start the Pi and ssh in, username `pi`, password `raspberry`.

4. Run `raspi-config`, reboot.

5. Get updates/upgrades.


### Users

1. Run `adduser`.

2. Use `usermod -a -G <comma separated groups> louis` to add pi's groups
   to new user.

3. Add new user to sudoers.

4. Verify the new user works and can `sudo`, then disable the pi account with
   `passwd -l pi`.

5. Add the extra partition to `fstab`, on `/local` using `defaults,noatime 0
	2`.

6. Run `addgroup local` and `adduser louis local`.

7. Run `chgrp local /local`, and mount it.


### Wifi Setup

 Edit `/etc/network/interfaces` to have

```
allow-hotplug wlan0
auto wlan0
iface wlan0 inet static
	address 192.168.1.25
	netmask 255.255.255.0
	gateway 192.168.1.1
	wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
```

and `/etc/wpa_supplicant/wpa_supplicant.conf` to have

```
country=NZ
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid="{SSID HERE}"
    psk="{KEY HERE}"
}
```

then reboot.





1. Make the `downloads`, `media`, and `torrents` directories. Add them to the
	`local` group.

2. Install the `transmission-daemon` and `transmission-cli` packages.

